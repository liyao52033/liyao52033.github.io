<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker部署前后端分离项目 | 编程随笔</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/logo.png">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/c/font_4397361_l7w8pg1gfn.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="编程随笔">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="编程随笔">
    <meta name="google" content="notranslate">
    <meta content="编程随笔" property="og:title">
    
    <link rel="preload" href="/assets/css/0.styles.079605d6.css" as="style"><link rel="preload" href="/assets/js/app.07bb8812.js" as="script"><link rel="preload" href="/assets/js/4.74e8e892.js" as="script"><link rel="preload" href="/assets/js/1.97c589b9.js" as="script"><link rel="preload" href="/assets/js/3.b578a44e.js" as="script"><link rel="preload" href="/assets/js/92.64c9ecb9.js" as="script"><link rel="preload" href="/assets/js/25.7ae8a124.js" as="script"><link rel="preload" href="/assets/js/45.ffc06b3f.js" as="script"><link rel="prefetch" href="/assets/js/10.eaca31ce.js"><link rel="prefetch" href="/assets/js/100.c9d76c4c.js"><link rel="prefetch" href="/assets/js/101.88872e03.js"><link rel="prefetch" href="/assets/js/102.449a0d87.js"><link rel="prefetch" href="/assets/js/103.2b2dfb1d.js"><link rel="prefetch" href="/assets/js/104.da44320d.js"><link rel="prefetch" href="/assets/js/105.353bcbde.js"><link rel="prefetch" href="/assets/js/106.c19baf2c.js"><link rel="prefetch" href="/assets/js/107.646e774b.js"><link rel="prefetch" href="/assets/js/108.a0ad0522.js"><link rel="prefetch" href="/assets/js/109.36644a82.js"><link rel="prefetch" href="/assets/js/11.fa7f84da.js"><link rel="prefetch" href="/assets/js/110.381ba96a.js"><link rel="prefetch" href="/assets/js/111.65190d31.js"><link rel="prefetch" href="/assets/js/112.9fb8cad4.js"><link rel="prefetch" href="/assets/js/113.f66fd9e9.js"><link rel="prefetch" href="/assets/js/114.ab415b1d.js"><link rel="prefetch" href="/assets/js/115.d0871fd1.js"><link rel="prefetch" href="/assets/js/116.75fbf8d3.js"><link rel="prefetch" href="/assets/js/117.5a07f9c6.js"><link rel="prefetch" href="/assets/js/118.f08bda45.js"><link rel="prefetch" href="/assets/js/119.580d81c7.js"><link rel="prefetch" href="/assets/js/12.286e720b.js"><link rel="prefetch" href="/assets/js/120.145d9f9f.js"><link rel="prefetch" href="/assets/js/121.0022485a.js"><link rel="prefetch" href="/assets/js/122.1b4b2453.js"><link rel="prefetch" href="/assets/js/123.9978128c.js"><link rel="prefetch" href="/assets/js/124.12de337a.js"><link rel="prefetch" href="/assets/js/125.4e972cac.js"><link rel="prefetch" href="/assets/js/126.168fd1f0.js"><link rel="prefetch" href="/assets/js/127.9d8836c0.js"><link rel="prefetch" href="/assets/js/128.5b518250.js"><link rel="prefetch" href="/assets/js/129.20b5082f.js"><link rel="prefetch" href="/assets/js/13.a3d2613a.js"><link rel="prefetch" href="/assets/js/130.fa960896.js"><link rel="prefetch" href="/assets/js/131.f41ea89f.js"><link rel="prefetch" href="/assets/js/132.e0bf2579.js"><link rel="prefetch" href="/assets/js/133.a5d45049.js"><link rel="prefetch" href="/assets/js/134.d72292c2.js"><link rel="prefetch" href="/assets/js/135.dd93ec1c.js"><link rel="prefetch" href="/assets/js/136.e3ad7e25.js"><link rel="prefetch" href="/assets/js/137.f9e84991.js"><link rel="prefetch" href="/assets/js/138.4b6a2116.js"><link rel="prefetch" href="/assets/js/139.bece1a1a.js"><link rel="prefetch" href="/assets/js/14.2523f254.js"><link rel="prefetch" href="/assets/js/140.2ecaa63f.js"><link rel="prefetch" href="/assets/js/141.c23682ab.js"><link rel="prefetch" href="/assets/js/142.e0a218be.js"><link rel="prefetch" href="/assets/js/143.906f7a14.js"><link rel="prefetch" href="/assets/js/144.d2d7f909.js"><link rel="prefetch" href="/assets/js/15.97d23f34.js"><link rel="prefetch" href="/assets/js/16.fe48cd9f.js"><link rel="prefetch" href="/assets/js/17.c647e895.js"><link rel="prefetch" href="/assets/js/18.bb29e3c0.js"><link rel="prefetch" href="/assets/js/19.4a65e5c2.js"><link rel="prefetch" href="/assets/js/2.929fee14.js"><link rel="prefetch" href="/assets/js/20.a8904a46.js"><link rel="prefetch" href="/assets/js/21.d31c182f.js"><link rel="prefetch" href="/assets/js/22.b0579bd7.js"><link rel="prefetch" href="/assets/js/23.766900f6.js"><link rel="prefetch" href="/assets/js/24.0d74e9b4.js"><link rel="prefetch" href="/assets/js/26.f7942079.js"><link rel="prefetch" href="/assets/js/27.a2c1c35f.js"><link rel="prefetch" href="/assets/js/28.d3c83433.js"><link rel="prefetch" href="/assets/js/29.5b41a89f.js"><link rel="prefetch" href="/assets/js/30.672a095c.js"><link rel="prefetch" href="/assets/js/31.c2c6a59a.js"><link rel="prefetch" href="/assets/js/32.cfa71a3e.js"><link rel="prefetch" href="/assets/js/33.0f17b2e5.js"><link rel="prefetch" href="/assets/js/34.d19e3fd9.js"><link rel="prefetch" href="/assets/js/35.41aca4fc.js"><link rel="prefetch" href="/assets/js/36.643f1a9f.js"><link rel="prefetch" href="/assets/js/37.e41d0bdb.js"><link rel="prefetch" href="/assets/js/38.9a9626ba.js"><link rel="prefetch" href="/assets/js/39.4bc3ae67.js"><link rel="prefetch" href="/assets/js/40.3d80477f.js"><link rel="prefetch" href="/assets/js/41.742f2ea3.js"><link rel="prefetch" href="/assets/js/42.09421d53.js"><link rel="prefetch" href="/assets/js/43.fdc22fb2.js"><link rel="prefetch" href="/assets/js/44.7db26cd9.js"><link rel="prefetch" href="/assets/js/46.d9ecb6e7.js"><link rel="prefetch" href="/assets/js/47.327f69cd.js"><link rel="prefetch" href="/assets/js/48.5723d6c0.js"><link rel="prefetch" href="/assets/js/49.c24b15e8.js"><link rel="prefetch" href="/assets/js/5.4b977ede.js"><link rel="prefetch" href="/assets/js/50.6e5c47d3.js"><link rel="prefetch" href="/assets/js/51.e93ff978.js"><link rel="prefetch" href="/assets/js/52.740dc0f5.js"><link rel="prefetch" href="/assets/js/53.d5ac32fd.js"><link rel="prefetch" href="/assets/js/54.c882516a.js"><link rel="prefetch" href="/assets/js/55.050dc2da.js"><link rel="prefetch" href="/assets/js/56.fc916a6f.js"><link rel="prefetch" href="/assets/js/57.0d8e437d.js"><link rel="prefetch" href="/assets/js/58.d076a2f9.js"><link rel="prefetch" href="/assets/js/59.457605f8.js"><link rel="prefetch" href="/assets/js/6.4a6c1139.js"><link rel="prefetch" href="/assets/js/60.ed689bf9.js"><link rel="prefetch" href="/assets/js/61.d83a7b0f.js"><link rel="prefetch" href="/assets/js/62.4038d0b2.js"><link rel="prefetch" href="/assets/js/63.20bef585.js"><link rel="prefetch" href="/assets/js/64.7e4aa4ca.js"><link rel="prefetch" href="/assets/js/65.92a8cbc7.js"><link rel="prefetch" href="/assets/js/66.2cf7a64c.js"><link rel="prefetch" href="/assets/js/67.0a0f02ee.js"><link rel="prefetch" href="/assets/js/68.f78eb385.js"><link rel="prefetch" href="/assets/js/69.9a7aa5d2.js"><link rel="prefetch" href="/assets/js/7.08d66d13.js"><link rel="prefetch" href="/assets/js/70.d0e9b907.js"><link rel="prefetch" href="/assets/js/71.a0a2eccd.js"><link rel="prefetch" href="/assets/js/72.fc8048fc.js"><link rel="prefetch" href="/assets/js/73.43bc22b1.js"><link rel="prefetch" href="/assets/js/74.4a0b922a.js"><link rel="prefetch" href="/assets/js/75.09566fa0.js"><link rel="prefetch" href="/assets/js/76.a0165b69.js"><link rel="prefetch" href="/assets/js/77.5f7eb6fb.js"><link rel="prefetch" href="/assets/js/78.57de8cb0.js"><link rel="prefetch" href="/assets/js/79.5fde1141.js"><link rel="prefetch" href="/assets/js/80.15a35949.js"><link rel="prefetch" href="/assets/js/81.a9164e79.js"><link rel="prefetch" href="/assets/js/82.797aaa26.js"><link rel="prefetch" href="/assets/js/83.0783a693.js"><link rel="prefetch" href="/assets/js/84.631e99a8.js"><link rel="prefetch" href="/assets/js/85.d5c9a8a2.js"><link rel="prefetch" href="/assets/js/86.bb8b3aa9.js"><link rel="prefetch" href="/assets/js/87.6809a43c.js"><link rel="prefetch" href="/assets/js/88.1dc535b1.js"><link rel="prefetch" href="/assets/js/89.d987eb75.js"><link rel="prefetch" href="/assets/js/90.183556a5.js"><link rel="prefetch" href="/assets/js/91.a5d7268f.js"><link rel="prefetch" href="/assets/js/93.4741d97d.js"><link rel="prefetch" href="/assets/js/94.26334787.js"><link rel="prefetch" href="/assets/js/95.fef8ad7e.js"><link rel="prefetch" href="/assets/js/96.ce5ca942.js"><link rel="prefetch" href="/assets/js/97.109e1872.js"><link rel="prefetch" href="/assets/js/98.b20cac2e.js"><link rel="prefetch" href="/assets/js/99.d48d7f99.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cca524b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.079605d6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="编程随笔" class="logo"> <span class="site-name can-hide">编程随笔</span></a> <div class="docsearch" style="width: calc(100% - 24rem)"><div><div id="docsearch"></div></div> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><!----> <span class="title" style="display:;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7765ba/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/17352a/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/pages/31c4d3/" class="nav-link">嵌入式</a></li><li class="dropdown-item"><!----> <a href="/pages/cf83bf/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><!----> <span class="title" style="display:;">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7a1d12/" class="nav-link">星球项目</a></li><li class="dropdown-item"><!----> <a href="/pages/91eb9e/" class="nav-link">开源项目</a></li></ul></div></div><div class="nav-item"><a href="/pages/a5da02/" class="nav-link">工具类</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><!----> <span class="title" style="display:;">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目仓库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/liyao52033.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  部署仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-default" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>vuepress插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/shanyuhai123/vuepress-plugin-auto-sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成导航栏与侧边栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/meilisearch/vuepress-plugin-meilisearch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  全文搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lq782655835/vuepress-plugin-element-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  选项卡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/ekoeryanto/vuepress-plugin-sitemap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成sitemap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>自主开发插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-editfrontmatter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  批量操作frontmatter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-twikoo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  评论系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-replaceurl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  链接美化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-blocktoggle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  折叠代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-copycodeblock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  复制代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>liyao52033</h3> <span>走运时，要想到倒霉，不要得意得过了头；倒霉时，要想到走运，不必垂头丧气。心态始终保持平衡，情绪始终保持稳定，此亦长寿之道</span></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><!----> <span class="title" style="display:;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7765ba/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/17352a/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/pages/31c4d3/" class="nav-link">嵌入式</a></li><li class="dropdown-item"><!----> <a href="/pages/cf83bf/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><!----> <span class="title" style="display:;">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7a1d12/" class="nav-link">星球项目</a></li><li class="dropdown-item"><!----> <a href="/pages/91eb9e/" class="nav-link">开源项目</a></li></ul></div></div><div class="nav-item"><a href="/pages/a5da02/" class="nav-link">工具类</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><!----> <span class="title" style="display:;">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目仓库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/liyao52033.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  部署仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-default" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>vuepress插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/shanyuhai123/vuepress-plugin-auto-sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成导航栏与侧边栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/meilisearch/vuepress-plugin-meilisearch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  全文搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lq782655835/vuepress-plugin-element-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  选项卡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/ekoeryanto/vuepress-plugin-sitemap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成sitemap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>自主开发插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-editfrontmatter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  批量操作frontmatter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-twikoo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  评论系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-replaceurl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  链接美化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-blocktoggle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  折叠代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-copycodeblock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  复制代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务器相关</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/70967e/" class="sidebar-link">Docker使用</a></li><li><a href="/pages/74f6d1/" aria-current="page" class="active sidebar-link">Docker部署前后端分离项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_1-服务器要求" class="sidebar-link">1.服务器要求</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_2-docker的安装" class="sidebar-link">2.docker的安装</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_3-安装mysql" class="sidebar-link">3.安装mysql</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_4-安装redis" class="sidebar-link">4.安装redis</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_5-安装rabbitmq" class="sidebar-link">5.安装rabbitmq</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_6-安装elasticsearch" class="sidebar-link">6.安装elasticsearch</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_7-安装maxwell" class="sidebar-link">7.安装MaxWell</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_8-打包运行后端项目" class="sidebar-link">8.打包运行后端项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_9-打包运行前端项目" class="sidebar-link">9.打包运行前端项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_10-安装并启动nginx" class="sidebar-link">10.安装并启动nginx</a></li></ul></li><li><a href="/pages/fa2c85/" class="sidebar-link">docker-compose使用</a></li><li><a href="/pages/7a54fa/" class="sidebar-link">代码上线事故原因</a></li><li><a href="/pages/93df54/" class="sidebar-link">rar for linux使用报错</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>腾讯云cos对象操作</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-13c63eef><div class="articleInfo" data-v-13c63eef><ul class="breadcrumbs" data-v-13c63eef><li data-v-13c63eef><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-13c63eef></a></li> <li data-v-13c63eef><a href="/categories/?category=%E5%90%8E%E7%AB%AF" title="分类" data-v-13c63eef>后端</a></li><li data-v-13c63eef><a href="/categories/?category=%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B8%E5%85%B3" title="分类" data-v-13c63eef>服务器相关</a></li></ul> <div class="info" data-v-13c63eef><div title="作者" class="author iconfont icon-touxiang" data-v-13c63eef><a href="https://xiaoying.org.cn/" target="_blank" title="作者" class="beLink" data-v-13c63eef>华总</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-13c63eef><a href="javascript:;" data-v-13c63eef>2023-09-16</a></div> <div title="文章字数" class="book-words iconfont icon-book" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-13c63eef>0</a></div> <div title="预计阅读时间" class="reading-time iconfont icon-shijian" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-13c63eef>0</a></div> <div title="文章访问量" class="page-view iconfont icon-view" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" id="busuanzi_page_pv" class="view-data" data-v-13c63eef><i title="正在获取..." class="loading iconfont icon-loading" data-v-13c63eef></i></a></div> <div title="本文总访客量" class="page_total_view iconfont icon-tongji" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" id="busuanzi_page_uv" class="view-data" data-v-13c63eef><i title="正在获取..." class="loading iconfont icon-loading" data-v-13c63eef></i></a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Docker部署前后端分离项目<span class="title-tag">原创</span></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1-服务器要求"><a href="#_1-服务器要求" class="header-anchor">#</a> 1.服务器要求</h2> <blockquote><p>下面的建议不包含minio的内存占用，如需使用minio，请另外考虑</p></blockquote> <ol><li><p>核心数和内存大小有两种方案：</p> <ul><li>2核4G（使用ES搜索策略）</li> <li>2核2G（使用MySQL搜素策略）</li></ul></li> <li><p>带宽大小有两种方案：</p> <ul><li>使用oss对带宽没有要求（本人亲测：1M带宽+oss 访问速度很快）</li> <li>使用minio需要大一点的带宽（小带宽也可以，但需要使用cdn加速）</li></ul></li></ol> <h2 id="_2-docker的安装"><a href="#_2-docker的安装" class="header-anchor">#</a> 2.docker的安装</h2> <blockquote><p>以下命令基于CentOS环境。</p></blockquote> <ol><li><p>下载工具</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>设置镜像的仓库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo  <span class="token comment">#配置阿里云的镜像</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>更新yum软件包索引</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum makecache fast
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装docker相关配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>启动docker</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl start <span class="token function">docker</span>
<span class="token comment"># 查看当前版本号，是否启动成功</span>
<span class="token function">docker</span> version
<span class="token comment"># 设置开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <hr> <h2 id="_3-安装mysql"><a href="#_3-安装mysql" class="header-anchor">#</a> 3.安装mysql</h2> <h3 id="方式1-无挂载模式"><a href="#方式1-无挂载模式" class="header-anchor">#</a> 方式1: 无挂载模式</h3> <blockquote><p>这种方式直接运行mysql之后，所有关于mysql的内容都在容器中，后续如果需要修改mysql的内容，需要手动进入容器内进行操作。且在宿主机上无备份，一旦容器被删除，数据也会被删除。</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull mysql //下载MySQL镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>密码 <span class="token parameter variable">-d</span> mysql //启动MySQL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方式2-数据卷挂载模式"><a href="#方式2-数据卷挂载模式" class="header-anchor">#</a> 方式2: 数据卷挂载模式</h3> <blockquote><p>和<strong>无挂载模式相对</strong>，通过数据卷挂载的方式运行容器，将容器内的部分重要文件映射到宿主机上。直接操作宿主机对应的映射文件就能和容器内作同步，方便操作的同时还能保证容器内的数据在宿主机上有一个备份。</p> <p>下面的命令分别对mysql的日志文件、配置文件、数据文件进行了映射，你也可以自己修改。</p></blockquote> <ol><li><h4 id="docker方式"><a href="#docker方式" class="header-anchor">#</a> docker方式</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-v</span> /auroras/mysql/log:/var/log/mysql <span class="token parameter variable">-v</span> /auroras/mysql/data:/var/lib/mysql <span class="token parameter variable">-v</span> /auroras/mysql/conf:/etc/mysql/conf.d  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>密码  <span class="token parameter variable">--name</span> mysql mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><h4 id="dockerfile方式"><a href="#dockerfile方式" class="header-anchor">#</a> Dockerfile方式</h4> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>和<strong>docker方式相对</strong>，通过Dockerfile的方式运行容器，不会出现时区问题，使数据库的时间与宿主机的时间相差8小时</p></div> <p>创建Dockerfile文件</p></li></ol> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token comment"># 使用官方MySQL8.0.34镜像作为基础映像</span>
<span class="token instruction"><span class="token keyword">FROM</span> mysql:8.0.34</span>

<span class="token instruction"><span class="token keyword">RUN</span> rm -f /etc/localtime <span class="token operator">\</span>
&amp;&amp; ln -sv /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">\</span>
&amp;&amp; echo <span class="token string">&quot;Asia/Shanghai&quot;</span> &gt; /etc/timezone</span>

<span class="token comment"># 设置MySQL的root用户密码（根据需要进行更改）</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYSQL_ROOT_PASSWORD=xxxxxx</span>

<span class="token comment"># 暴露MySQL默认端口（3306）和33060端口</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 3306 33060</span>

<span class="token comment"># 创建数据卷用于持久化存储MySQL数据、日志和配置</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /var/log/mysql</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /var/lib/mysql</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /etc/mysql/conf.d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​      创建启动文件mysql-start.sh</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">SOURCE_PATH</span><span class="token operator">=</span>/usr/local/mysql
<span class="token assign-left variable">SERVER_NAME</span><span class="token operator">=</span>mysqlimage
<span class="token assign-left variable">TAG</span><span class="token operator">=</span>latest
<span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">3306</span>
<span class="token assign-left variable">CID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">IID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$CID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> stop <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功停止容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$IID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
  <span class="token function">docker</span> rmi <span class="token variable">$IID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$SOURCE_PATH</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-p</span> <span class="token number">33060</span>:33060 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-v</span> /codegen/mysql/log:/var/log/mysql <span class="token parameter variable">-v</span> /codegen/mysql/data:/var/lib/mysql <span class="token parameter variable">-v</span> /codegen/mysql/conf:/etc/mysql/conf.d <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>xxxxxx <span class="token parameter variable">--name</span> mysql mysqlimage
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功创建并运行容器<span class="token variable">$SERVER_NAME</span>&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_4-安装redis"><a href="#_4-安装redis" class="header-anchor">#</a> 4.安装redis</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull redis //下载Redis镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> redis  <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">-d</span> redis <span class="token parameter variable">--requirepass</span> <span class="token string">&quot;密码&quot;</span> //启动Redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_5-安装rabbitmq"><a href="#_5-安装rabbitmq" class="header-anchor">#</a> 5.安装rabbitmq</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull rabbitmq:management //下载RabbitMQ镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> rabbit <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">15672</span>:15672 <span class="token parameter variable">-p</span> <span class="token number">5672</span>:5672  <span class="token parameter variable">-d</span>  rabbitmq:management   //启动RabbitMQ,默认guest用户，密码也是guest。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_6-安装elasticsearch"><a href="#_6-安装elasticsearch" class="header-anchor">#</a> 6.安装elasticsearch</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull elasticsearch:7.9.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span>  /home/elasticsearch/data/ 
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span>  /home/elasticsearch/config/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li><p>编写配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'http.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot; '</span><span class="token operator">&gt;&gt;</span>/home/elasticsearch/config/elasticsearch.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>修改文件夹权限</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /home/elasticsearch/
<span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token comment"># 查看文件权限</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>启动elasticseach镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> elasticsearch <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\</span>
 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span>
 <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">-e</span> <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xms64m -Xmx128m&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /home/elasticsearch/config/elasticsearch.yml:/usr/shellare/elasticsearch/config/elasticsearch.yml <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /home/elasticsearch/data:/usr/shellare/elasticsearch/data <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /home/elasticsearch/plugins:/usr/shellare/elasticsearch/plugins <span class="token punctuation">\</span>
 <span class="token parameter variable">-d</span> elasticsearch:7.9.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <p>接下来我们就是拿浏览器访问啦。</p> <p>在浏览器上输入：服务器IP地址:9200</p> <p>可能出现的问题：</p> <ol><li><p>启动成功，但是访问失败的话，查看一下安全组中映射端口是否已经打开。如果是本地虚拟机，可能与防火墙相关（我用的云服务器，没有测试，如果有问题，还是需要大家自行去百度||谷歌一下）。</p></li> <li><p>-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx128m&quot;：配置内存大小出现了问题。</p></li> <li><p>最后就还有可能是配置文件中出现了问题。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'http.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot; '</span><span class="token operator">&gt;&gt;</span>/home/elasticsearch/config/elasticsearch.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>http.host: 0.0.0.0</code> 在冒号后面有一个空格的，这里的配置文件是<code>yml</code>格式,所以一定要严格按照<code>yml</code>格式来书写。</p></li></ol> <p>安装ik分词器</p> <p>进入已经启动成功的elasticsearch容器。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> elasticsearch /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./bin/elasticsearch-plugin <span class="token function">install</span> https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.9.2/elasticsearch-analysis-ik-7.9.2.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ps: <code>安装的ik分词器的版本一定要与elasticsearch的版本保持一致</code></p> <p>下载过程中如果遇到选择，直接输入 y回车就可以了。</p> <p>下载完成之后，退出去，重新启动elasticsearch容器。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> restart elasticsearch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>测试ik分词器是否安装成功</p> <p>安装完成后，我们再来进行测试遍，看看有什么样的变化。</p> <p>postman post请求分词测试：<code>http://服务器IP地址:9200/_analyze</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;tokenizer&quot;</span><span class="token operator">:</span><span class="token string">&quot;ik_smart&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class="token string">&quot;我爱技术&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>结果</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;tokens&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;我&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_CHAR&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;爱&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_CHAR&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;技术&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_WORD&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_7-安装maxwell"><a href="#_7-安装maxwell" class="header-anchor">#</a> 7.安装MaxWell</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull zendesk/maxwell //下载MaxWell镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> maxwell <span class="token parameter variable">--restart</span><span class="token operator">=</span>always  <span class="token parameter variable">-d</span>  zendesk/maxwell bin/maxwell  <span class="token parameter variable">--user</span><span class="token operator">=</span><span class="token string">'数据库用户名'</span> <span class="token parameter variable">--password</span><span class="token operator">=</span><span class="token string">'数据库密码'</span>  <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token string">'IP地址'</span>  <span class="token parameter variable">--producer</span><span class="token operator">=</span>rabbitmq <span class="token parameter variable">--rabbitmq_user</span><span class="token operator">=</span><span class="token string">'MQ用户名'</span> <span class="token parameter variable">--rabbitmq_pass</span><span class="token operator">=</span><span class="token string">'MQ密码'</span> <span class="token parameter variable">--rabbitmq_host</span><span class="token operator">=</span><span class="token string">'IP地址'</span> <span class="token parameter variable">--rabbitmq_port</span><span class="token operator">=</span><span class="token string">'5672'</span> <span class="token parameter variable">--rabbitmq_exchange</span><span class="token operator">=</span><span class="token string">'maxwell_exchange'</span>  <span class="token parameter variable">--rabbitmq_exchange_type</span><span class="token operator">=</span><span class="token string">'fanout'</span> <span class="token parameter variable">--rabbitmq_exchange_durable</span><span class="token operator">=</span><span class="token string">'true'</span> <span class="token parameter variable">--filter</span><span class="token operator">=</span><span class="token string">'exclude: *.*, include: aurora.t_article.article_title = *, include: aurora.t_article.article_content = *, include: aurora.t_article.is_delete = *, include: aurora.t_article.status = *'</span> //运行MaxWell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：上述命令中aurora为数据库名称。</p> <hr> <h2 id="_8-打包运行后端项目"><a href="#_8-打包运行后端项目" class="header-anchor">#</a> 8.打包运行后端项目</h2> <ol><li><p>使用idea右侧Maven的package命令</p></li> <li><p>在服务器的/usr/local/下面创建名为docker的文件夹</p></li> <li><p>将打包好的jar包传到服务器上面的/usr/local/docker下面</p></li> <li><p>编写Dockerfile,同时将编写好的Dockerfile传输到服务器的/usr/local/docker下面</p></li></ol> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> openjdk:8</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /tmp</span>
<span class="token instruction"><span class="token keyword">ADD</span> aurora-springboot-0.0.1.jar blog.jar</span>

<span class="token instruction"><span class="token keyword">RUN</span> rm -f /etc/localtime <span class="token operator">\</span>
&amp;&amp; ln -sv /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">\</span>
&amp;&amp; echo <span class="token string">&quot;Asia/Shanghai&quot;</span> &gt; /etc/timezone</span>

<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-Djava.security.egd=file:/dev/./urandom&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/blog.jar&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>注意：Dockerfile文件只需要上传到指定目录下即可，不需要手动执行其他操作。</p></blockquote> <ol start="5"><li>编写aurora-start.sh,同时将编写好的aurora-start.sh上传到服务器的/usr/local/docker下面</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">SOURCE_PATH</span><span class="token operator">=</span>/usr/local/docker
<span class="token assign-left variable">SERVER_NAME</span><span class="token operator">=</span>aurora-springboot-0.0.1.jar
<span class="token assign-left variable">TAG</span><span class="token operator">=</span>latest
<span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">8080</span>

<span class="token assign-left variable">CID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">IID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$CID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> stop <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功停止容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$IID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
  <span class="token function">docker</span> rmi <span class="token variable">$IID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$SOURCE_PATH</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>

<span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--name</span> aurora-springboot-0.0.1.jar <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 aurora-springboot-0.0.1.jar:latest

<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功创建并运行容器<span class="token variable">$SERVER_NAME</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意事项</p> <p>sh文件在非linux系统编写需要用notepad++转为Unix格式</p> <p>具体操作：点开notepad++中的编辑 ---&gt; 文档格式转换 ---&gt;转为Unix</p></div> <ol start="6"><li>cd到/usr/local/docker下面 ，执行如下命令打包docker镜像文件启动容器</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> +x aurora-start.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> aurora-start.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li>这样后端项目就可以在服务器上跑起来了,访问测试(浏览器上访问)</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ip:8080<span class="token punctuation">(</span>/api<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_9-打包运行前端项目"><a href="#_9-打包运行前端项目" class="header-anchor">#</a> 9.打包运行前端项目</h2> <ol><li><p>在服务器的/usr/local/下面创建名为vue的文件夹，</p></li> <li><p>将打包好的前台代码重命名为blog, 并传输到服务器的/usr/local/vue下面</p></li> <li><p>将打包好的后台代码重命名为admin, 并传输到服务器的/usr/local/vue下面</p></li></ol> <h2 id="_10-安装并启动nginx"><a href="#_10-安装并启动nginx" class="header-anchor">#</a> 10.安装并启动nginx</h2> <h3 id="方式1-http"><a href="#方式1-http" class="header-anchor">#</a> 方式1: http</h3> <ol><li><p>拉取nginx镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在/usr/local/nginx下创建nginx.conf文件，格式如下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>
    sendfile        on<span class="token punctuation">;</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    client_max_body_size     50m<span class="token punctuation">;</span>
    client_body_buffer_size  10m<span class="token punctuation">;</span> 
    client_header_timeout    1m<span class="token punctuation">;</span>
    client_body_timeout      1m<span class="token punctuation">;</span>

    <span class="token function">gzip</span> on<span class="token punctuation">;</span>
    gzip_min_length  1k<span class="token punctuation">;</span>
    gzip_buffers     <span class="token number">4</span> 16k<span class="token punctuation">;</span>
    gzip_comp_level  <span class="token number">4</span><span class="token punctuation">;</span>
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png<span class="token punctuation">;</span>
    gzip_vary on<span class="token punctuation">;</span>

server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>
     
        location / <span class="token punctuation">{</span>		
            root   /usr/local/vue/blog<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span> 
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
			
	location ^~ /api/ <span class="token punctuation">{</span>		
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
	       proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>						
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
    <span class="token punctuation">}</span>
	
server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  后台子域名<span class="token punctuation">;</span>
     
        location / <span class="token punctuation">{</span>		
            root   /usr/local/vue/admin<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span> 
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
			
	location ^~ /api/ <span class="token punctuation">{</span>		
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
	    proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>						
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div></li> <li><p>启动nginx</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf <span class="token parameter variable">-v</span> /usr/local/vue:/usr/local/vue nginx 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h3 id="方式2-https"><a href="#方式2-https" class="header-anchor">#</a> 方式2: https</h3> <ol><li><p>拉取nginx镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将ssl证书的crt和key文件上传到<code>/etc/ssl/certs</code></p></li> <li><p>修改配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>
    sendfile        on<span class="token punctuation">;</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    client_max_body_size     50m<span class="token punctuation">;</span>
    client_body_buffer_size  10m<span class="token punctuation">;</span> 	  
    client_header_timeout    1m<span class="token punctuation">;</span>
    client_body_timeout      1m<span class="token punctuation">;</span>

    <span class="token function">gzip</span> on<span class="token punctuation">;</span>
    gzip_min_length  1k<span class="token punctuation">;</span>
    gzip_buffers     <span class="token number">4</span> 16k<span class="token punctuation">;</span>
    gzip_comp_level  <span class="token number">4</span><span class="token punctuation">;</span>
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png<span class="token punctuation">;</span>
    gzip_vary on<span class="token punctuation">;</span>
	
server <span class="token punctuation">{</span>
        listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>

        ssl_certificate /etc/ssl/certs/域名_bundle.crt<span class="token punctuation">;</span> 
	      ssl_certificate_key /etc/ssl/certs/域名.key<span class="token punctuation">;</span> 
        ssl_session_timeout 5m<span class="token punctuation">;</span>
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>

       location / <span class="token punctuation">{</span>
            root   /usr/local/vue/blog<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span>
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
        location ^~ /api/ <span class="token punctuation">{</span>
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
            proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
        listen  <span class="token number">443</span> ssl<span class="token punctuation">;</span>
        server_name 后台域名<span class="token punctuation">;</span>

        ssl_certificate /etc/ssl/certs/域名_bundle.crt<span class="token punctuation">;</span> 
        ssl_certificate_key /etc/ssl/certs/域名.key<span class="token punctuation">;</span> 
        ssl_session_timeout 5m<span class="token punctuation">;</span>
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>

       location / <span class="token punctuation">{</span>
            root   /usr/local/vue/admin<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span>
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
        location ^~ /api/ <span class="token punctuation">{</span>
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
            proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	
    <span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>
        rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$	https://<span class="token variable">$host</span><span class="token variable">$1</span>	permanent<span class="token punctuation">;</span>
		
    <span class="token punctuation">}</span>
	
server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  后台域名<span class="token punctuation">;</span>
        rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$	https://<span class="token variable">$host</span><span class="token variable">$1</span>	permanent<span class="token punctuation">;</span>
		
    <span class="token punctuation">}</span>	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div></li> <li><p>启动nginx</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">443</span>:443 <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf <span class="token parameter variable">-v</span> /etc/ssl/certs:/etc/ssl/certs <span class="token parameter variable">-v</span> /usr/local/vue:/usr/local/vue <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E5%90%8E%E7%AB%AF" title="标签">#后端</a><a href="/tags/?tag=Docker" title="标签">#Docker</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/02/18 14:46:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/70967e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Docker使用</div></a> <a href="/pages/fa2c85/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">docker-compose使用</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/70967e/" class="prev">Docker使用</a></span> <span class="next"><a href="/pages/fa2c85/">docker-compose使用</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/24af07/"><div>
            Chrome开启GeminiAI
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">02-04</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2e0a98/"><div>
            暂停windows更新
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-30</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/eff348/"><div>
            关联到已存在的 GitHub 仓库
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-28</span></dt></dl><dl><dd>04</dd> <dt><a href="/pages/f02c4b/"><div>
            numpy
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-24</span></dt></dl><dl><dd>05</dd> <dt><a href="/pages/cf83bf/"><div>
            pandas 基础操作
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing" title="github" target="_blank" class="iconfont icon-github"></a><a href="https://mail.163.com/js6/main.jsp?sid=YAoleRcXgSntbqVGwDXXGltbASZPXVBD&amp;df=mail163_letter#module=compose.ComposeModule%7C%7B%22type%22%3A%22compose%22%2C%22fullScreen%22%3Atrue%2C%22cid%22%3A%22c%3A1702008591824%22%7D" title="邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://qm.qq.com/q/1qZrTBvhuU" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href=" https://b23.tv/XXqWiXR" title="哔哩哔哩" target="_blank" class="iconfont icon-bilibili"></a></div> 
    Copyright © 2023-2026
    <span><a target="_blank" href="https://github.com/liyao52033/vuepress-default">liyao52033</a>&nbsp;&nbsp;All Rights Reserved<br>备案号：<a target="_blank" href="https://beian.miit.gov.cn/">鄂ICP备2023023964号-1</a>&nbsp;&nbsp;&nbsp;&nbsp;</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div id="twikoo"></div></div></div>
    <script src="/assets/js/app.07bb8812.js" defer></script><script src="/assets/js/4.74e8e892.js" defer></script><script src="/assets/js/1.97c589b9.js" defer></script><script src="/assets/js/3.b578a44e.js" defer></script><script src="/assets/js/92.64c9ecb9.js" defer></script><script src="/assets/js/25.7ae8a124.js" defer></script><script src="/assets/js/45.ffc06b3f.js" defer></script>
  </body>
</html>
