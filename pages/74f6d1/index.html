<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker部署前后端分离项目 | 编程随笔</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/logo.png">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/c/font_4397361_l7w8pg1gfn.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="编程随笔">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="编程随笔">
    <meta content="编程随笔" property="og:title">
    
    <link rel="preload" href="/assets/css/0.styles.e2f96c8e.css" as="style"><link rel="preload" href="/assets/js/app.0e4893f0.js" as="script"><link rel="preload" href="/assets/js/3.68e95ad6.js" as="script"><link rel="preload" href="/assets/js/2.56a7fb29.js" as="script"><link rel="preload" href="/assets/js/92.29ed5a98.js" as="script"><link rel="preload" href="/assets/js/25.571f3d43.js" as="script"><link rel="preload" href="/assets/js/45.ab1d84cf.js" as="script"><link rel="preload" href="/assets/js/44.6f56586a.js" as="script"><link rel="prefetch" href="/assets/js/1.ef8116a0.js"><link rel="prefetch" href="/assets/js/10.b7f88af7.js"><link rel="prefetch" href="/assets/js/100.3d7af52e.js"><link rel="prefetch" href="/assets/js/101.74a03766.js"><link rel="prefetch" href="/assets/js/102.e765a012.js"><link rel="prefetch" href="/assets/js/103.51488b9f.js"><link rel="prefetch" href="/assets/js/104.263faaec.js"><link rel="prefetch" href="/assets/js/105.a1a206f3.js"><link rel="prefetch" href="/assets/js/106.b33eed10.js"><link rel="prefetch" href="/assets/js/107.9c371cef.js"><link rel="prefetch" href="/assets/js/108.1ce5ed94.js"><link rel="prefetch" href="/assets/js/109.f630eea5.js"><link rel="prefetch" href="/assets/js/11.faee59f4.js"><link rel="prefetch" href="/assets/js/110.00266b44.js"><link rel="prefetch" href="/assets/js/111.09a2c6db.js"><link rel="prefetch" href="/assets/js/112.d97cd154.js"><link rel="prefetch" href="/assets/js/113.e45a2bd2.js"><link rel="prefetch" href="/assets/js/114.9ea73cb3.js"><link rel="prefetch" href="/assets/js/115.e07a67af.js"><link rel="prefetch" href="/assets/js/116.ac66d3a2.js"><link rel="prefetch" href="/assets/js/117.6fe61452.js"><link rel="prefetch" href="/assets/js/118.d289c1ce.js"><link rel="prefetch" href="/assets/js/119.6b5d1f61.js"><link rel="prefetch" href="/assets/js/12.bacd53f3.js"><link rel="prefetch" href="/assets/js/120.717a0fe5.js"><link rel="prefetch" href="/assets/js/121.5f9db4a5.js"><link rel="prefetch" href="/assets/js/122.fd551826.js"><link rel="prefetch" href="/assets/js/123.08694ea4.js"><link rel="prefetch" href="/assets/js/124.489aa0ec.js"><link rel="prefetch" href="/assets/js/125.d66d836f.js"><link rel="prefetch" href="/assets/js/126.ce1f16d6.js"><link rel="prefetch" href="/assets/js/127.c052eebf.js"><link rel="prefetch" href="/assets/js/128.ea22cbd1.js"><link rel="prefetch" href="/assets/js/129.ce25db30.js"><link rel="prefetch" href="/assets/js/13.690ea45f.js"><link rel="prefetch" href="/assets/js/130.3ee794cc.js"><link rel="prefetch" href="/assets/js/131.e5020a3d.js"><link rel="prefetch" href="/assets/js/132.963afdf1.js"><link rel="prefetch" href="/assets/js/133.dea4c0b0.js"><link rel="prefetch" href="/assets/js/134.676e9f0f.js"><link rel="prefetch" href="/assets/js/135.7d732b20.js"><link rel="prefetch" href="/assets/js/136.c5548b0c.js"><link rel="prefetch" href="/assets/js/137.616c0ed7.js"><link rel="prefetch" href="/assets/js/138.e315e008.js"><link rel="prefetch" href="/assets/js/139.0ed71a3e.js"><link rel="prefetch" href="/assets/js/14.32a83c78.js"><link rel="prefetch" href="/assets/js/140.624f1154.js"><link rel="prefetch" href="/assets/js/141.2fb402e8.js"><link rel="prefetch" href="/assets/js/142.b9222f76.js"><link rel="prefetch" href="/assets/js/15.e7f41ace.js"><link rel="prefetch" href="/assets/js/16.4c34058c.js"><link rel="prefetch" href="/assets/js/17.4ee973ef.js"><link rel="prefetch" href="/assets/js/18.4537b4a1.js"><link rel="prefetch" href="/assets/js/19.b1adfa2e.js"><link rel="prefetch" href="/assets/js/20.2d2f5ec0.js"><link rel="prefetch" href="/assets/js/21.8c620069.js"><link rel="prefetch" href="/assets/js/22.abaca844.js"><link rel="prefetch" href="/assets/js/23.4bcd1d44.js"><link rel="prefetch" href="/assets/js/24.8038f950.js"><link rel="prefetch" href="/assets/js/26.9baa02cc.js"><link rel="prefetch" href="/assets/js/27.52bd5feb.js"><link rel="prefetch" href="/assets/js/28.4a8f2ea4.js"><link rel="prefetch" href="/assets/js/29.c5f230a2.js"><link rel="prefetch" href="/assets/js/30.0a9772e9.js"><link rel="prefetch" href="/assets/js/31.cf2ecd3c.js"><link rel="prefetch" href="/assets/js/32.fd6ebf8f.js"><link rel="prefetch" href="/assets/js/33.2d6f3e77.js"><link rel="prefetch" href="/assets/js/34.238bd5cd.js"><link rel="prefetch" href="/assets/js/35.ce5398c3.js"><link rel="prefetch" href="/assets/js/36.eb2c8d91.js"><link rel="prefetch" href="/assets/js/37.c3dd8455.js"><link rel="prefetch" href="/assets/js/38.326b72b6.js"><link rel="prefetch" href="/assets/js/39.f3716d7d.js"><link rel="prefetch" href="/assets/js/4.ca954612.js"><link rel="prefetch" href="/assets/js/40.7bacb629.js"><link rel="prefetch" href="/assets/js/41.ffa6db35.js"><link rel="prefetch" href="/assets/js/42.3e7e3b5b.js"><link rel="prefetch" href="/assets/js/43.67e6acc0.js"><link rel="prefetch" href="/assets/js/46.dd0f6b4c.js"><link rel="prefetch" href="/assets/js/47.83dbcc61.js"><link rel="prefetch" href="/assets/js/48.2adf391b.js"><link rel="prefetch" href="/assets/js/49.31016c50.js"><link rel="prefetch" href="/assets/js/5.af4b6d4f.js"><link rel="prefetch" href="/assets/js/50.fbd7b6ec.js"><link rel="prefetch" href="/assets/js/51.1378d432.js"><link rel="prefetch" href="/assets/js/52.c6d9a98a.js"><link rel="prefetch" href="/assets/js/53.55299c1d.js"><link rel="prefetch" href="/assets/js/54.ec81ce2a.js"><link rel="prefetch" href="/assets/js/55.b9f65aa8.js"><link rel="prefetch" href="/assets/js/56.e3c39f51.js"><link rel="prefetch" href="/assets/js/57.7eaa6987.js"><link rel="prefetch" href="/assets/js/58.d724256d.js"><link rel="prefetch" href="/assets/js/59.65e97ab7.js"><link rel="prefetch" href="/assets/js/6.4fff4874.js"><link rel="prefetch" href="/assets/js/60.79314c0f.js"><link rel="prefetch" href="/assets/js/61.a42c827d.js"><link rel="prefetch" href="/assets/js/62.4ed4bba8.js"><link rel="prefetch" href="/assets/js/63.c1778f4e.js"><link rel="prefetch" href="/assets/js/64.06cb129d.js"><link rel="prefetch" href="/assets/js/65.ffd81066.js"><link rel="prefetch" href="/assets/js/66.41520bd5.js"><link rel="prefetch" href="/assets/js/67.278ad307.js"><link rel="prefetch" href="/assets/js/68.a3d17362.js"><link rel="prefetch" href="/assets/js/69.63562ca7.js"><link rel="prefetch" href="/assets/js/70.bf311b4b.js"><link rel="prefetch" href="/assets/js/71.f689cfa1.js"><link rel="prefetch" href="/assets/js/72.1d975c5d.js"><link rel="prefetch" href="/assets/js/73.a27435c6.js"><link rel="prefetch" href="/assets/js/74.f5e8c8c9.js"><link rel="prefetch" href="/assets/js/75.ece2eb52.js"><link rel="prefetch" href="/assets/js/76.3195e6d1.js"><link rel="prefetch" href="/assets/js/77.f6b2d8ef.js"><link rel="prefetch" href="/assets/js/78.fd11a6bf.js"><link rel="prefetch" href="/assets/js/79.2e2437ad.js"><link rel="prefetch" href="/assets/js/80.8f38edbb.js"><link rel="prefetch" href="/assets/js/81.9bd5b23c.js"><link rel="prefetch" href="/assets/js/82.4c5327f8.js"><link rel="prefetch" href="/assets/js/83.fffee18e.js"><link rel="prefetch" href="/assets/js/84.4b9c8db9.js"><link rel="prefetch" href="/assets/js/85.ee448df3.js"><link rel="prefetch" href="/assets/js/86.bb57ceff.js"><link rel="prefetch" href="/assets/js/87.5a9aa391.js"><link rel="prefetch" href="/assets/js/88.4f9f8388.js"><link rel="prefetch" href="/assets/js/89.57f8cacf.js"><link rel="prefetch" href="/assets/js/90.4334b210.js"><link rel="prefetch" href="/assets/js/91.dd030b91.js"><link rel="prefetch" href="/assets/js/93.4fc6381a.js"><link rel="prefetch" href="/assets/js/94.fba294a0.js"><link rel="prefetch" href="/assets/js/95.2ebcb9a6.js"><link rel="prefetch" href="/assets/js/96.537457a5.js"><link rel="prefetch" href="/assets/js/97.268e50f0.js"><link rel="prefetch" href="/assets/js/98.9323c5b2.js"><link rel="prefetch" href="/assets/js/99.8e97fec6.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.1d46a9b6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.09dae32d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2f96c8e.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="编程随笔" class="logo"> <span class="site-name can-hide">编程随笔</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box theme-false"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><!----> <span class="title" style="display:;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7765ba/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/17352a/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/pages/31c4d3/" class="nav-link">嵌入式</a></li><li class="dropdown-item"><!----> <a href="/pages/cf83bf/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><!----> <span class="title" style="display:;">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7a1d12/" class="nav-link">星球项目</a></li><li class="dropdown-item"><!----> <a href="/pages/91eb9e/" class="nav-link">开源项目</a></li></ul></div></div><div class="nav-item"><a href="/pages/a5da02/" class="nav-link">工具类</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><!----> <span class="title" style="display:;">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目仓库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/liyao52033.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  部署仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-default" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>vuepress插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/shanyuhai123/vuepress-plugin-auto-sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成导航栏与侧边栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/dongyuanxin/vuepress-plugin-comment" target="_blank" rel="noopener noreferrer" class="nav-link external">
  评论系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/meilisearch/vuepress-plugin-meilisearch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  全文搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lq782655835/vuepress-plugin-element-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  选项卡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/ekoeryanto/vuepress-plugin-sitemap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成sitemap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>自主开发插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-editfrontmatter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  批量操作frontmatter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-replaceurl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  链接美化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-blocktoggle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  折叠代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-copycodeblock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  复制代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>liyao52033</h3> <span>走运时，要想到倒霉，不要得意得过了头；倒霉时，要想到走运，不必垂头丧气。心态始终保持平衡，情绪始终保持稳定，此亦长寿之道</span></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><!----> <span class="title" style="display:;">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7765ba/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/17352a/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/pages/31c4d3/" class="nav-link">嵌入式</a></li><li class="dropdown-item"><!----> <a href="/pages/cf83bf/" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><!----> <span class="title" style="display:;">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7a1d12/" class="nav-link">星球项目</a></li><li class="dropdown-item"><!----> <a href="/pages/91eb9e/" class="nav-link">开源项目</a></li></ul></div></div><div class="nav-item"><a href="/pages/a5da02/" class="nav-link">工具类</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><!----> <span class="title" style="display:;">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>项目仓库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/liyao52033.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  部署仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-default" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>vuepress插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/shanyuhai123/vuepress-plugin-auto-sidebar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成导航栏与侧边栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/dongyuanxin/vuepress-plugin-comment" target="_blank" rel="noopener noreferrer" class="nav-link external">
  评论系统
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/meilisearch/vuepress-plugin-meilisearch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  全文搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lq782655835/vuepress-plugin-element-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  选项卡
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/ekoeryanto/vuepress-plugin-sitemap" target="_blank" rel="noopener noreferrer" class="nav-link external">
  自动生成sitemap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>自主开发插件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-editfrontmatter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  批量操作frontmatter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugin-replaceurl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  链接美化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-blocktoggle" target="_blank" rel="noopener noreferrer" class="nav-link external">
  折叠代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/liyao52033/vuepress-plugins/tree/main/vuepress-plugin-copycodeblock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  复制代码块
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务器相关</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/70967e/" class="sidebar-link">Docker使用</a></li><li><a href="/pages/74f6d1/" aria-current="page" class="active sidebar-link">Docker部署前后端分离项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_1-服务器要求" class="sidebar-link">1.服务器要求</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_2-docker的安装" class="sidebar-link">2.docker的安装</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_3-安装mysql" class="sidebar-link">3.安装mysql</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_4-安装redis" class="sidebar-link">4.安装redis</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_5-安装rabbitmq" class="sidebar-link">5.安装rabbitmq</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_6-安装elasticsearch" class="sidebar-link">6.安装elasticsearch</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_7-安装maxwell" class="sidebar-link">7.安装MaxWell</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_8-打包运行后端项目" class="sidebar-link">8.打包运行后端项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_9-打包运行前端项目" class="sidebar-link">9.打包运行前端项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/74f6d1/#_10-安装并启动nginx" class="sidebar-link">10.安装并启动nginx</a></li></ul></li><li><a href="/pages/fa2c85/" class="sidebar-link">docker-compose使用</a></li><li><a href="/pages/7a54fa/" class="sidebar-link">代码上线事故原因</a></li><li><a href="/pages/93df54/" class="sidebar-link">rar for linux使用报错</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>腾讯云cos对象操作</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-13c63eef><div class="articleInfo" data-v-13c63eef><ul class="breadcrumbs" data-v-13c63eef><li data-v-13c63eef><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-13c63eef></a></li> <li data-v-13c63eef><a href="/categories/?category=%E5%90%8E%E7%AB%AF" title="分类" data-v-13c63eef>后端</a></li><li data-v-13c63eef><a href="/categories/?category=%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B8%E5%85%B3" title="分类" data-v-13c63eef>服务器相关</a></li></ul> <div class="info" data-v-13c63eef><div title="作者" class="author iconfont icon-touxiang" data-v-13c63eef><a href="https://xiaoying.org.cn/" target="_blank" title="作者" class="beLink" data-v-13c63eef>华总</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-13c63eef><a href="javascript:;" data-v-13c63eef>2023-09-16</a></div> <div title="文章字数" class="book-words iconfont icon-book" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-13c63eef>0</a></div> <div title="预计阅读时间" class="reading-time iconfont icon-shijian" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-13c63eef>0</a></div> <div title="文章访问量" class="page-view iconfont icon-view" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" id="busuanzi_page_pv" class="view-data" data-v-13c63eef><i title="正在获取..." class="loading iconfont icon-loading" data-v-13c63eef></i></a></div> <div title="本文总访客量" class="page_total_view iconfont icon-tongji" style="float: left; margin-left: 20px; font-size: 0.8rem;" data-v-13c63eef><a href="javascript:;" id="busuanzi_page_uv" class="view-data" data-v-13c63eef><i title="正在获取..." class="loading iconfont icon-loading" data-v-13c63eef></i></a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Docker部署前后端分离项目<span class="title-tag">原创</span></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1-服务器要求"><a href="#_1-服务器要求" class="header-anchor">#</a> 1.服务器要求</h2> <blockquote><p>下面的建议不包含minio的内存占用，如需使用minio，请另外考虑</p></blockquote> <ol><li><p>核心数和内存大小有两种方案：</p> <ul><li>2核4G（使用ES搜索策略）</li> <li>2核2G（使用MySQL搜素策略）</li></ul></li> <li><p>带宽大小有两种方案：</p> <ul><li>使用oss对带宽没有要求（本人亲测：1M带宽+oss 访问速度很快）</li> <li>使用minio需要大一点的带宽（小带宽也可以，但需要使用cdn加速）</li></ul></li></ol> <h2 id="_2-docker的安装"><a href="#_2-docker的安装" class="header-anchor">#</a> 2.docker的安装</h2> <blockquote><p>以下命令基于CentOS环境。</p></blockquote> <ol><li><p>下载工具</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>设置镜像的仓库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo  <span class="token comment">#配置阿里云的镜像</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>更新yum软件包索引</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum makecache fast
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装docker相关配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>启动docker</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl start <span class="token function">docker</span>
<span class="token comment"># 查看当前版本号，是否启动成功</span>
<span class="token function">docker</span> version
<span class="token comment"># 设置开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <hr> <h2 id="_3-安装mysql"><a href="#_3-安装mysql" class="header-anchor">#</a> 3.安装mysql</h2> <h3 id="方式1-无挂载模式"><a href="#方式1-无挂载模式" class="header-anchor">#</a> 方式1: 无挂载模式</h3> <blockquote><p>这种方式直接运行mysql之后，所有关于mysql的内容都在容器中，后续如果需要修改mysql的内容，需要手动进入容器内进行操作。且在宿主机上无备份，一旦容器被删除，数据也会被删除。</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull mysql //下载MySQL镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>密码 <span class="token parameter variable">-d</span> mysql //启动MySQL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方式2-数据卷挂载模式"><a href="#方式2-数据卷挂载模式" class="header-anchor">#</a> 方式2: 数据卷挂载模式</h3> <blockquote><p>和<strong>无挂载模式相对</strong>，通过数据卷挂载的方式运行容器，将容器内的部分重要文件映射到宿主机上。直接操作宿主机对应的映射文件就能和容器内作同步，方便操作的同时还能保证容器内的数据在宿主机上有一个备份。</p> <p>下面的命令分别对mysql的日志文件、配置文件、数据文件进行了映射，你也可以自己修改。</p></blockquote> <ol><li><h4 id="docker方式"><a href="#docker方式" class="header-anchor">#</a> docker方式</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-v</span> /auroras/mysql/log:/var/log/mysql <span class="token parameter variable">-v</span> /auroras/mysql/data:/var/lib/mysql <span class="token parameter variable">-v</span> /auroras/mysql/conf:/etc/mysql/conf.d  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>密码  <span class="token parameter variable">--name</span> mysql mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><h4 id="dockerfile方式"><a href="#dockerfile方式" class="header-anchor">#</a> Dockerfile方式</h4> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>和<strong>docker方式相对</strong>，通过Dockerfile的方式运行容器，不会出现时区问题，使数据库的时间与宿主机的时间相差8小时</p></div> <p>创建Dockerfile文件</p></li></ol> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token comment"># 使用官方MySQL8.0.34镜像作为基础映像</span>
<span class="token instruction"><span class="token keyword">FROM</span> mysql:8.0.34</span>

<span class="token instruction"><span class="token keyword">RUN</span> rm -f /etc/localtime <span class="token operator">\</span>
&amp;&amp; ln -sv /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">\</span>
&amp;&amp; echo <span class="token string">&quot;Asia/Shanghai&quot;</span> &gt; /etc/timezone</span>

<span class="token comment"># 设置MySQL的root用户密码（根据需要进行更改）</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYSQL_ROOT_PASSWORD=xxxxxx</span>

<span class="token comment"># 暴露MySQL默认端口（3306）和33060端口</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 3306 33060</span>

<span class="token comment"># 创建数据卷用于持久化存储MySQL数据、日志和配置</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /var/log/mysql</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /var/lib/mysql</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /etc/mysql/conf.d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​      创建启动文件mysql-start.sh</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">SOURCE_PATH</span><span class="token operator">=</span>/usr/local/mysql
<span class="token assign-left variable">SERVER_NAME</span><span class="token operator">=</span>mysqlimage
<span class="token assign-left variable">TAG</span><span class="token operator">=</span>latest
<span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">3306</span>
<span class="token assign-left variable">CID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">IID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$CID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> stop <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功停止容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$IID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
  <span class="token function">docker</span> rmi <span class="token variable">$IID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$SOURCE_PATH</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-p</span> <span class="token number">33060</span>:33060 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-v</span> /codegen/mysql/log:/var/log/mysql <span class="token parameter variable">-v</span> /codegen/mysql/data:/var/lib/mysql <span class="token parameter variable">-v</span> /codegen/mysql/conf:/etc/mysql/conf.d <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>xxxxxx <span class="token parameter variable">--name</span> mysql mysqlimage
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功创建并运行容器<span class="token variable">$SERVER_NAME</span>&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_4-安装redis"><a href="#_4-安装redis" class="header-anchor">#</a> 4.安装redis</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull redis //下载Redis镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> redis  <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">-d</span> redis <span class="token parameter variable">--requirepass</span> <span class="token string">&quot;密码&quot;</span> //启动Redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_5-安装rabbitmq"><a href="#_5-安装rabbitmq" class="header-anchor">#</a> 5.安装rabbitmq</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull rabbitmq:management //下载RabbitMQ镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> rabbit <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">15672</span>:15672 <span class="token parameter variable">-p</span> <span class="token number">5672</span>:5672  <span class="token parameter variable">-d</span>  rabbitmq:management   //启动RabbitMQ,默认guest用户，密码也是guest。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_6-安装elasticsearch"><a href="#_6-安装elasticsearch" class="header-anchor">#</a> 6.安装elasticsearch</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull elasticsearch:7.9.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span>  /home/elasticsearch/data/ 
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span>  /home/elasticsearch/config/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li><p>编写配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'http.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot; '</span><span class="token operator">&gt;&gt;</span>/home/elasticsearch/config/elasticsearch.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>修改文件夹权限</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /home/elasticsearch/
<span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token comment"># 查看文件权限</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>启动elasticseach镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> elasticsearch <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\</span>
 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span>
 <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">-e</span> <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xms64m -Xmx128m&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /home/elasticsearch/config/elasticsearch.yml:/usr/shellare/elasticsearch/config/elasticsearch.yml <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /home/elasticsearch/data:/usr/shellare/elasticsearch/data <span class="token punctuation">\</span>
 <span class="token parameter variable">-v</span> /home/elasticsearch/plugins:/usr/shellare/elasticsearch/plugins <span class="token punctuation">\</span>
 <span class="token parameter variable">-d</span> elasticsearch:7.9.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <p>接下来我们就是拿浏览器访问啦。</p> <p>在浏览器上输入：服务器IP地址:9200</p> <p>可能出现的问题：</p> <ol><li><p>启动成功，但是访问失败的话，查看一下安全组中映射端口是否已经打开。如果是本地虚拟机，可能与防火墙相关（我用的云服务器，没有测试，如果有问题，还是需要大家自行去百度||谷歌一下）。</p></li> <li><p>-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx128m&quot;：配置内存大小出现了问题。</p></li> <li><p>最后就还有可能是配置文件中出现了问题。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'http.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot; '</span><span class="token operator">&gt;&gt;</span>/home/elasticsearch/config/elasticsearch.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>http.host: 0.0.0.0</code> 在冒号后面有一个空格的，这里的配置文件是<code>yml</code>格式,所以一定要严格按照<code>yml</code>格式来书写。</p></li></ol> <p>安装ik分词器</p> <p>进入已经启动成功的elasticsearch容器。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> elasticsearch /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./bin/elasticsearch-plugin <span class="token function">install</span> https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.9.2/elasticsearch-analysis-ik-7.9.2.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ps: <code>安装的ik分词器的版本一定要与elasticsearch的版本保持一致</code></p> <p>下载过程中如果遇到选择，直接输入 y回车就可以了。</p> <p>下载完成之后，退出去，重新启动elasticsearch容器。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> restart elasticsearch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>测试ik分词器是否安装成功</p> <p>安装完成后，我们再来进行测试遍，看看有什么样的变化。</p> <p>postman post请求分词测试：<code>http://服务器IP地址:9200/_analyze</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;tokenizer&quot;</span><span class="token operator">:</span><span class="token string">&quot;ik_smart&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class="token string">&quot;我爱技术&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>结果</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;tokens&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;我&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_CHAR&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;爱&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_CHAR&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;技术&quot;</span>,
            <span class="token string">&quot;start_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;end_offset&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4</span>,
            <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CN_WORD&quot;</span>,
            <span class="token string">&quot;position&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_7-安装maxwell"><a href="#_7-安装maxwell" class="header-anchor">#</a> 7.安装MaxWell</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull zendesk/maxwell //下载MaxWell镜像
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> maxwell <span class="token parameter variable">--restart</span><span class="token operator">=</span>always  <span class="token parameter variable">-d</span>  zendesk/maxwell bin/maxwell  <span class="token parameter variable">--user</span><span class="token operator">=</span><span class="token string">'数据库用户名'</span> <span class="token parameter variable">--password</span><span class="token operator">=</span><span class="token string">'数据库密码'</span>  <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token string">'IP地址'</span>  <span class="token parameter variable">--producer</span><span class="token operator">=</span>rabbitmq <span class="token parameter variable">--rabbitmq_user</span><span class="token operator">=</span><span class="token string">'MQ用户名'</span> <span class="token parameter variable">--rabbitmq_pass</span><span class="token operator">=</span><span class="token string">'MQ密码'</span> <span class="token parameter variable">--rabbitmq_host</span><span class="token operator">=</span><span class="token string">'IP地址'</span> <span class="token parameter variable">--rabbitmq_port</span><span class="token operator">=</span><span class="token string">'5672'</span> <span class="token parameter variable">--rabbitmq_exchange</span><span class="token operator">=</span><span class="token string">'maxwell_exchange'</span>  <span class="token parameter variable">--rabbitmq_exchange_type</span><span class="token operator">=</span><span class="token string">'fanout'</span> <span class="token parameter variable">--rabbitmq_exchange_durable</span><span class="token operator">=</span><span class="token string">'true'</span> <span class="token parameter variable">--filter</span><span class="token operator">=</span><span class="token string">'exclude: *.*, include: aurora.t_article.article_title = *, include: aurora.t_article.article_content = *, include: aurora.t_article.is_delete = *, include: aurora.t_article.status = *'</span> //运行MaxWell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：上述命令中aurora为数据库名称。</p> <hr> <h2 id="_8-打包运行后端项目"><a href="#_8-打包运行后端项目" class="header-anchor">#</a> 8.打包运行后端项目</h2> <ol><li><p>使用idea右侧Maven的package命令</p></li> <li><p>在服务器的/usr/local/下面创建名为docker的文件夹</p></li> <li><p>将打包好的jar包传到服务器上面的/usr/local/docker下面</p></li> <li><p>编写Dockerfile,同时将编写好的Dockerfile传输到服务器的/usr/local/docker下面</p></li></ol> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> openjdk:8</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /tmp</span>
<span class="token instruction"><span class="token keyword">ADD</span> aurora-springboot-0.0.1.jar blog.jar</span>

<span class="token instruction"><span class="token keyword">RUN</span> rm -f /etc/localtime <span class="token operator">\</span>
&amp;&amp; ln -sv /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">\</span>
&amp;&amp; echo <span class="token string">&quot;Asia/Shanghai&quot;</span> &gt; /etc/timezone</span>

<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-Djava.security.egd=file:/dev/./urandom&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/blog.jar&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>注意：Dockerfile文件只需要上传到指定目录下即可，不需要手动执行其他操作。</p></blockquote> <ol start="5"><li>编写aurora-start.sh,同时将编写好的aurora-start.sh上传到服务器的/usr/local/docker下面</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">SOURCE_PATH</span><span class="token operator">=</span>/usr/local/docker
<span class="token assign-left variable">SERVER_NAME</span><span class="token operator">=</span>aurora-springboot-0.0.1.jar
<span class="token assign-left variable">TAG</span><span class="token operator">=</span>latest
<span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">8080</span>

<span class="token assign-left variable">CID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">IID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;<span class="token variable">$SERVER_NAME</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $3}'</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$CID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> stop <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功停止容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
  <span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable">$CID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除容器<span class="token variable">$SERVER_NAME</span>,CID-<span class="token variable">$CID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$IID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;存在镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
  <span class="token function">docker</span> rmi <span class="token variable">$IID</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;成功删除镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>,IID=<span class="token variable">$IID</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$SOURCE_PATH</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token variable">$SERVER_NAME</span><span class="token builtin class-name">:</span><span class="token variable">$TAG</span> <span class="token builtin class-name">.</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功构建镜像<span class="token variable">$SERVER_NAME</span>:<span class="token variable">$TAG</span>&quot;</span>

<span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--name</span> aurora-springboot-0.0.1.jar <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 aurora-springboot-0.0.1.jar:latest

<span class="token builtin class-name">echo</span> <span class="token string">&quot;成功创建并运行容器<span class="token variable">$SERVER_NAME</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意事项</p> <p>sh文件在非linux系统编写需要用notepad++转为Unix格式</p> <p>具体操作：点开notepad++中的编辑 ---&gt; 文档格式转换 ---&gt;转为Unix</p></div> <ol start="6"><li>cd到/usr/local/docker下面 ，执行如下命令打包docker镜像文件启动容器</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> +x aurora-start.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> aurora-start.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li>这样后端项目就可以在服务器上跑起来了,访问测试(浏览器上访问)</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ip:8080<span class="token punctuation">(</span>/api<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_9-打包运行前端项目"><a href="#_9-打包运行前端项目" class="header-anchor">#</a> 9.打包运行前端项目</h2> <ol><li><p>在服务器的/usr/local/下面创建名为vue的文件夹，</p></li> <li><p>将打包好的前台代码重命名为blog, 并传输到服务器的/usr/local/vue下面</p></li> <li><p>将打包好的后台代码重命名为admin, 并传输到服务器的/usr/local/vue下面</p></li></ol> <h2 id="_10-安装并启动nginx"><a href="#_10-安装并启动nginx" class="header-anchor">#</a> 10.安装并启动nginx</h2> <h3 id="方式1-http"><a href="#方式1-http" class="header-anchor">#</a> 方式1: http</h3> <ol><li><p>拉取nginx镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在/usr/local/nginx下创建nginx.conf文件，格式如下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>
    sendfile        on<span class="token punctuation">;</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    client_max_body_size     50m<span class="token punctuation">;</span>
    client_body_buffer_size  10m<span class="token punctuation">;</span> 
    client_header_timeout    1m<span class="token punctuation">;</span>
    client_body_timeout      1m<span class="token punctuation">;</span>

    <span class="token function">gzip</span> on<span class="token punctuation">;</span>
    gzip_min_length  1k<span class="token punctuation">;</span>
    gzip_buffers     <span class="token number">4</span> 16k<span class="token punctuation">;</span>
    gzip_comp_level  <span class="token number">4</span><span class="token punctuation">;</span>
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png<span class="token punctuation">;</span>
    gzip_vary on<span class="token punctuation">;</span>

server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>
     
        location / <span class="token punctuation">{</span>		
            root   /usr/local/vue/blog<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span> 
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
			
	location ^~ /api/ <span class="token punctuation">{</span>		
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
	       proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>						
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
    <span class="token punctuation">}</span>
	
server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  后台子域名<span class="token punctuation">;</span>
     
        location / <span class="token punctuation">{</span>		
            root   /usr/local/vue/admin<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span> 
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
			
	location ^~ /api/ <span class="token punctuation">{</span>		
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
	    proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>						
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div></li> <li><p>启动nginx</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf <span class="token parameter variable">-v</span> /usr/local/vue:/usr/local/vue nginx 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h3 id="方式2-https"><a href="#方式2-https" class="header-anchor">#</a> 方式2: https</h3> <ol><li><p>拉取nginx镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> pull nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将ssl证书的crt和key文件上传到<code>/etc/ssl/certs</code></p></li> <li><p>修改配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>
    sendfile        on<span class="token punctuation">;</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    client_max_body_size     50m<span class="token punctuation">;</span>
    client_body_buffer_size  10m<span class="token punctuation">;</span> 	  
    client_header_timeout    1m<span class="token punctuation">;</span>
    client_body_timeout      1m<span class="token punctuation">;</span>

    <span class="token function">gzip</span> on<span class="token punctuation">;</span>
    gzip_min_length  1k<span class="token punctuation">;</span>
    gzip_buffers     <span class="token number">4</span> 16k<span class="token punctuation">;</span>
    gzip_comp_level  <span class="token number">4</span><span class="token punctuation">;</span>
    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png<span class="token punctuation">;</span>
    gzip_vary on<span class="token punctuation">;</span>
	
server <span class="token punctuation">{</span>
        listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>

        ssl_certificate /etc/ssl/certs/域名_bundle.crt<span class="token punctuation">;</span> 
	      ssl_certificate_key /etc/ssl/certs/域名.key<span class="token punctuation">;</span> 
        ssl_session_timeout 5m<span class="token punctuation">;</span>
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>

       location / <span class="token punctuation">{</span>
            root   /usr/local/vue/blog<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span>
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
        location ^~ /api/ <span class="token punctuation">{</span>
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
            proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
        listen  <span class="token number">443</span> ssl<span class="token punctuation">;</span>
        server_name 后台域名<span class="token punctuation">;</span>

        ssl_certificate /etc/ssl/certs/域名_bundle.crt<span class="token punctuation">;</span> 
        ssl_certificate_key /etc/ssl/certs/域名.key<span class="token punctuation">;</span> 
        ssl_session_timeout 5m<span class="token punctuation">;</span>
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>

       location / <span class="token punctuation">{</span>
            root   /usr/local/vue/admin<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span>
            try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		
        location ^~ /api/ <span class="token punctuation">{</span>
            proxy_pass http://服务器ip:8080/<span class="token punctuation">;</span>
            proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
            proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
            proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	
    <span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  前台域名<span class="token punctuation">;</span>
        rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$	https://<span class="token variable">$host</span><span class="token variable">$1</span>	permanent<span class="token punctuation">;</span>
		
    <span class="token punctuation">}</span>
	
server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  后台域名<span class="token punctuation">;</span>
        rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$	https://<span class="token variable">$host</span><span class="token variable">$1</span>	permanent<span class="token punctuation">;</span>
		
    <span class="token punctuation">}</span>	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div></li> <li><p>启动nginx</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">443</span>:443 <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf <span class="token parameter variable">-v</span> /etc/ssl/certs:/etc/ssl/certs <span class="token parameter variable">-v</span> /usr/local/vue:/usr/local/vue <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E5%90%8E%E7%AB%AF" title="标签">#后端</a><a href="/tags/?tag=Docker" title="标签">#Docker</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/02/18 14:46:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/70967e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Docker使用</div></a> <a href="/pages/fa2c85/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">docker-compose使用</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/70967e/" class="prev">Docker使用</a></span> <span class="next"><a href="/pages/fa2c85/">docker-compose使用</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/2e0a98/"><div>
            暂停windows更新
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-30</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/eff348/"><div>
            关联到已存在的 GitHub 仓库
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-28</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/f02c4b/"><div>
            numpy
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-24</span></dt></dl><dl><dd>04</dd> <dt><a href="/pages/cf83bf/"><div>
            pandas 基础操作
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">07-24</span></dt></dl><dl><dd>05</dd> <dt><a href="/pages/27beb1/"><div>
            node后端部署
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">04-10</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing" title="github" target="_blank" class="iconfont icon-github"></a><a href="https://mail.163.com/js6/main.jsp?sid=YAoleRcXgSntbqVGwDXXGltbASZPXVBD&amp;df=mail163_letter#module=compose.ComposeModule%7C%7B%22type%22%3A%22compose%22%2C%22fullScreen%22%3Atrue%2C%22cid%22%3A%22c%3A1702008591824%22%7D" title="邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://qm.qq.com/q/1qZrTBvhuU" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href=" https://b23.tv/XXqWiXR" title="哔哩哔哩" target="_blank" class="iconfont icon-bilibili"></a></div> 
    Copyright © 2023-2025
    <span><a target="_blank" href="https://github.com/liyao52033/vuepress-default">liyao52033</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div></div></div>
    <script src="/assets/js/app.0e4893f0.js" defer></script><script src="/assets/js/3.68e95ad6.js" defer></script><script src="/assets/js/2.56a7fb29.js" defer></script><script src="/assets/js/92.29ed5a98.js" defer></script><script src="/assets/js/25.571f3d43.js" defer></script><script src="/assets/js/45.ab1d84cf.js" defer></script><script src="/assets/js/44.6f56586a.js" defer></script>
  </body>
</html>
